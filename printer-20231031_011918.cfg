[display_status]
[pause_resume]
[exclude_object]
[skew_correction]
[exclude_object]
[gcode_arcs]
[skew_correction]

[virtual_sdcard]
path: ~/printer_data/gcodes

[include start_stop_gcode.cfg]
;[include bed_fans.cfg]
[include klicky/klicky-probe.cfg]
;[include adxl.cfg]
[include input_shaper.cfg]

#[include macros/brushie.cfg]
[include macros/fan_tachometer.cfg]
[include macros/macros.cfg]
[include macros/test_speed.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_370024001750535556323420-if00

[mcu EBB36]
canbus_uuid: 4b6fda2fe461

[thermistor 100k3950_airtemp]
temperature1: 20
resistance1: 125245
temperature2: 50
resistance2: 35900
temperature3: 80
resistance3: 12933

[z_calibration]
nozzle_xy_position: 229,354
switch_xy_offsets: 0,-32
switch_offset: 0.5
start_gcode: ATTACH_PROBE
end_gcode: DOCK_PROBE

[printer]
kinematics: corexy
max_velocity: 500
max_accel: 10000
max_accel_to_decel: 5000
max_z_velocity: 20
max_z_accel: 350
square_corner_velocity: 9.0

[input_shaper]
shaper_freq_x: 65.8
shaper_type_x: mzv
shaper_freq_y: 39.8
shaper_type_y: mzv

[temperature_sensor EBB36]
sensor_type: temperature_mcu
sensor_mcu: EBB36
min_temp: 0
max_temp: 100

[temperature_sensor Octopus]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 200

[temperature_sensor Chamber]
sensor_pin: PF4
sensor_type: 100k3950_airtemp
gcode_id: C
max_temp: 82

[adxl345]
cs_pin: EBB36: PB12
spi_software_sclk_pin: EBB36: PB10
spi_software_mosi_pin: EBB36: PB11
spi_software_miso_pin: EBB36: PB2
axes_map: x,y,z

[resonance_tester]
accel_chip: adxl345
probe_points:
    174,175,20

[extruder]
step_pin: EBB36: PD0
dir_pin: !EBB36: PD1
enable_pin: !EBB36: PD2
microsteps: 16
gear_ratio: 50:10
rotation_distance: 22.8338962
nozzle_diameter: 0.4
filament_diameter: 1.75
heater_pin: EBB36: PB13
sensor_pin: EBB36: PA3
sensor_type: ATC Semitec 104GT-2
min_temp: 0
max_temp: 290
max_extrude_only_distance: 4000
max_extrude_cross_section: 5.0
pressure_advance_smooth_time: 0.04

[tmc2209 extruder]
uart_pin: EBB36: PA15
interpolate: false
run_current: 0.65
sense_resistor: 0.110
stealthchop_threshold: 0

[heater_fan hotend_fan]
pin: EBB36: PA0
tachometer_pin: ^EBB36: PB9
tachometer_ppr: 2
tachometer_poll_interval: 0.00095
heater: extruder
heater_temp: 50.0
max_power: 1.0
kick_start_time: 0.5

[duplicate_pin_override]
pins: EBB36: PA1

[fan]
pin: EBB36: PA1
tachometer_pin: ^EBB36: PB3
tachometer_ppr: 4
tachometer_poll_interval: 0.00084
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[fan_generic PCF_0]
pin: EBB36: PA1
tachometer_pin: ^EBB36: PB4
tachometer_ppr: 4
tachometer_poll_interval: 0.00084
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[fan_generic nevermore]
pin: PD13
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[fan_generic bed_fans]
pin: PD15
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[multi_pin controller_fans]
pins: PA8, PE5

[controller_fan controller_fans]
pin: multi_pin: controller_fans
kick_start_time: 0.5
heater: heater_bed
cycle_time: 0.01
fan_speed: 0.15

[probe]
pin: ^EBB36: PB6
x_offset: -3.0
y_offset: 26.0
speed: 10.0
lift_speed: 15.0
samples: 3
samples_result: average # median
sample_retract_dist: 1.5
samples_tolerance: 0.02
samples_tolerance_retries: 10
z_offset: -1.86

[heater_bed]
heater_pin: PA3
sensor_type: Generic 3950
sensor_pin: PF3
max_power: 1.0
min_temp: 0
max_temp: 125
pwm_cycle_time: 0.01
control: pid
pid_kp: 60.315
pid_ki: 2.663
pid_kd: 341.534

[led Chamber_LEDs]
white_pin: PD14
cycle_time: 0.00013333

[neopixel Toolhead_LEDs]
pin: EBB36:PD3
chain_count: 3
color_order: GRBW
initial_RED: 0.0
initial_GREEN: 0.0
initial_BLUE: 0.0
initial_WHITE: 1.0

[bed_mesh]
mesh_min: 28,30
mesh_max: 318,320
horizontal_move_z: 10
speed: 100
probe_count: 9,9
zero_reference_position: 173,175
algorithm: bicubic
fade_start: 0.26
fade_end: 5
split_delta_z: 0.01

[quad_gantry_level]
speed: 100
horizontal_move_z: 10
retries: 10
retry_tolerance: 0.0075
max_adjust: 10
gantry_corners:
   -57,-10
   410,420
points:
   45,25
   45,275
   295,275
   295,25

[idle_timeout]
timeout: 1800

[force_move]
enable_force_move: true

[stepper_x]
step_pin: PF13
dir_pin: PF12
enable_pin: !PF14
endstop_pin: ^EBB36: PB8
homing_speed: 80
second_homing_speed: 25
homing_retract_dist: 5
homing_positive_dir: true
rotation_distance: 40
microsteps: 16
full_steps_per_rotation: 400
position_min: 0
position_max: 348
position_endstop: 348

[stepper_y]
step_pin: PG0
dir_pin: PG1
enable_pin: !PF15
endstop_pin: ^PG12
homing_speed: 60
second_homing_speed: 25
homing_retract_dist: 5
homing_positive_dir: true
rotation_distance: 40
microsteps: 16
full_steps_per_rotation: 400
position_min: 0
position_max: 354
position_endstop: 354

[stepper_z]
step_pin: PF11
dir_pin: PG3
enable_pin: !PG5
endstop_pin: ^PG13
homing_speed: 15
second_homing_speed: 4
homing_retract_dist: 0.7
homing_positive_dir: false
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16
position_min: -15
position_max: 310
position_endstop: 0.986

[stepper_z1]
step_pin: PG4
dir_pin: !PC1
enable_pin: !PA0
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16

[stepper_z2]
step_pin: PF9
dir_pin: PF10
enable_pin: !PG2
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16

[stepper_z3]
step_pin: PC13
dir_pin: !PF0
enable_pin: !PF1
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16

[tmc2209 stepper_x]
diag_pin: ^PG6
uart_pin: PC4
interpolate: false
run_current: 1.2
sense_resistor: 0.110
stealthchop_threshold: 0

[tmc2209 stepper_y]
diag_pin: ^PG9
uart_pin: PD11
interpolate: false
run_current: 1.2
sense_resistor: 0.110
stealthchop_threshold: 0

[tmc2209 stepper_z]
diag_pin: ^PG10
uart_pin: PC6
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

[tmc2209 stepper_z1]
diag_pin: ^PG11
uart_pin: PC7
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

[tmc2209 stepper_z2]
diag_pin: ^PG12
uart_pin: PF2
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

[tmc2209 stepper_z3]
diag_pin: ^PG13
uart_pin: PE4
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 21.810
#*# pid_ki = 1.298
#*# pid_kd = 91.604
#*#
#*# [bed_mesh Prusa 120C]
#*# version = 1
#*# points =
#*# 	  0.037933, 0.043141, 0.053141, 0.058141, 0.052308, 0.073454, 0.067725, 0.065746, 0.075954, 0.080746, 0.072725, 0.084912, 0.074496, 0.060537, 0.073246, 0.067100, 0.062100, 0.064287, 0.044912, 0.043871, 0.049079, 0.043871, 0.051475, 0.056683, 0.066162
#*# 	  0.045329, 0.050225, 0.050641, 0.052100, 0.053350, 0.066579, 0.067308, 0.101475, 0.078141, 0.081266, 0.103246, 0.077621, 0.075641, 0.064391, 0.094704, 0.062725, 0.058766, 0.054183, 0.043558, 0.046162, 0.043246, 0.042204, 0.043766, 0.045433, 0.055329
#*# 	  0.032829, 0.029183, 0.037516, 0.073662, 0.038766, 0.051162, 0.064496, 0.050537, 0.063246, 0.068662, 0.064391, 0.071891, 0.065746, 0.055016, 0.060121, 0.062725, 0.055746, 0.048350, 0.045850, 0.040746, 0.041579, 0.039808, 0.038766, 0.045746, 0.045016
#*# 	  0.024079, 0.024704, 0.033141, 0.039496, 0.037829, 0.043558, 0.048454, 0.058662, 0.058558, 0.058454, 0.054912, 0.064496, 0.059496, 0.049600, 0.052100, 0.053766, 0.059808, 0.049496, 0.038558, 0.029183, 0.036891, 0.032204, 0.036266, 0.042204, 0.036891
#*# 	  0.011891, 0.014391, 0.017829, 0.018037, 0.024079, 0.031371, 0.034808, 0.038350, 0.051683, 0.048766, 0.047100, 0.053558, 0.050746, 0.039600, 0.045537, 0.037829, 0.041266, 0.043350, 0.031683, 0.027412, 0.020850, 0.015433, 0.031162, 0.042725, 0.030433
#*# 	  0.002933, 0.002621, 0.009079, 0.012933, 0.001787, 0.013766, 0.025746, 0.023871, 0.036371, 0.038141, 0.028871, 0.049496, 0.041058, 0.040121, 0.039704, 0.030641, 0.033037, 0.036996, 0.018975, 0.013037, 0.021266, 0.015016, 0.010225, 0.030121, 0.026891
#*# 	  -0.007588, -0.003004, -0.003213, -0.007171, 0.011266, 0.002100, 0.011683, 0.019704, 0.021996, 0.035121, 0.019808, 0.037621, 0.032516, 0.025850, 0.031787, 0.016371, 0.021891, 0.030121, 0.010329, 0.006058, 0.006683, 0.002829, 0.015537, 0.010329, 0.019808
#*# 	  -0.011025, -0.009567, -0.004254, -0.009567, -0.007900, 0.005746, 0.003246, 0.020641, 0.027621, 0.023037, 0.028246, 0.029704, 0.026266, 0.010954, 0.015954, 0.011266, 0.012204, 0.018662, 0.016266, -0.000400, 0.005016, -0.001754, -0.002484, 0.011891, 0.007308
#*# 	  -0.019150, -0.012379, -0.010088, -0.012484, -0.017171, 0.000746, -0.000400, 0.009912, 0.016162, 0.016787, 0.009287, 0.023454, 0.003871, 0.004704, 0.007516, -0.002588, 0.006371, 0.012516, 0.000433, -0.000192, -0.005296, -0.007067, -0.000713, 0.010225, -0.006129
#*# 	  -0.009359, -0.009254, -0.005088, -0.017796, -0.017588, -0.006025, -0.002484, 0.002933, 0.011475, 0.006058, -0.005296, 0.010641, 0.007621, -0.006025, -0.002588, 0.003141, 0.005537, 0.019600, -0.001338, -0.005713, -0.007484, -0.008734, -0.019359, -0.007275, -0.001338
#*# 	  -0.022275, -0.020088, -0.013213, -0.008213, -0.018942, -0.013629, -0.011025, -0.008629, -0.002379, 0.006058, -0.006338, 0.006891, -0.000609, -0.003838, -0.004150, -0.004984, -0.000400, 0.003662, -0.009463, -0.018004, -0.014046, -0.010921, -0.015713, -0.010192, -0.022067
#*# 	  -0.018734, -0.018734, -0.013109, -0.011650, -0.016859, -0.013109, -0.001754, -0.000504, 0.009704, 0.017308, -0.000921, 0.008558, 0.006996, -0.006234, -0.000609, -0.004046, -0.012900, -0.001546, -0.003317, -0.005296, -0.013838, -0.019046, -0.027900, -0.017900, -0.014775
#*# 	  -0.026546, -0.016963, -0.017484, -0.023109, -0.027796, -0.009775, -0.009463, -0.008317, 0.003662, -0.005504, -0.000192, 0.006266, 0.000016, -0.008838, -0.001650, -0.002379, -0.006859, -0.009671, -0.007900, -0.018004, -0.014879, -0.020088, -0.020713, -0.014775, -0.027171
#*# 	  -0.023942, -0.019567, -0.021025, -0.021442, -0.023525, -0.012171, -0.008942, -0.011129, -0.007588, -0.012900, -0.009984, 0.005746, 0.004600, -0.004671, -0.002484, -0.014150, -0.007067, 0.004600, -0.012692, -0.021546, -0.014254, -0.019463, -0.014567, -0.026129, -0.021963
#*# 	  -0.026025, -0.031129, -0.023004, -0.022067, -0.027588, -0.021963, -0.016338, -0.013838, -0.008213, -0.006338, -0.015504, -0.001234, 0.003037, -0.008213, -0.004879, 0.003454, -0.003213, -0.004359, -0.013525, -0.010609, -0.023421, -0.033838, -0.024879, -0.019984, -0.024671
#*# 	  -0.016234, -0.025296, -0.024463, -0.012796, -0.025088, -0.012796, -0.004463, -0.005400, 0.002725, -0.000713, -0.003317, 0.010121, 0.008350, 0.001058, 0.000225, -0.000192, 0.002933, -0.004567, -0.008213, -0.018734, -0.021546, -0.016963, -0.026338, -0.014775, -0.023109
#*# 	  -0.024254, -0.023942, -0.020504, -0.022379, -0.010400, -0.005713, -0.002796, 0.002308, 0.010016, 0.016787, 0.005121, 0.021475, 0.010850, 0.000433, 0.011996, 0.005537, 0.009391, 0.007516, -0.016963, -0.018317, -0.011129, -0.028004, -0.017796, -0.014046, -0.026754
#*# 	  -0.017796, -0.004879, -0.011650, -0.007692, -0.019463, -0.008317, 0.006475, 0.011058, 0.022621, 0.019496, 0.017204, 0.018662, 0.018662, 0.014079, 0.012621, 0.006162, 0.010225, 0.006266, -0.003525, -0.011754, -0.007379, -0.008317, -0.015504, -0.013734, -0.022900
#*# 	  -0.014984, -0.007484, 0.000537, -0.013004, -0.012692, -0.001338, 0.008454, 0.011162, 0.018662, 0.021787, 0.013766, 0.024912, 0.024391, 0.016266, 0.018766, 0.010016, 0.015537, 0.018037, -0.001754, 0.001371, 0.001996, -0.004150, -0.011546, -0.005296, -0.010921
#*# 	  0.004079, -0.000088, -0.000921, -0.003942, -0.004359, 0.010641, 0.011371, 0.023975, 0.029287, 0.025329, 0.027516, 0.044183, 0.036162, 0.026996, 0.033766, 0.020225, 0.022933, 0.026266, 0.011787, 0.011266, 0.004079, 0.000537, 0.004496, 0.006579, -0.004150
#*# 	  0.014079, 0.014912, 0.017412, 0.014183, 0.001787, 0.023871, 0.024704, 0.021579, 0.028037, 0.040225, 0.033558, 0.044808, 0.045746, 0.033141, 0.041683, 0.040016, 0.038454, 0.037516, 0.022621, 0.017308, 0.023454, 0.014287, 0.001475, 0.013350, 0.006058
#*# 	  0.024391, 0.025121, 0.024912, 0.019912, 0.023246, 0.029808, 0.038454, 0.040850, 0.046996, 0.050746, 0.053975, 0.065329, 0.063766, 0.051891, 0.053350, 0.053350, 0.051058, 0.047829, 0.034391, 0.031162, 0.033871, 0.028454, 0.019704, 0.029079, 0.026475
#*# 	  0.044704, 0.050641, 0.047204, 0.040850, 0.028141, 0.040121, 0.042725, 0.050016, 0.054808, 0.063558, 0.063037, 0.071683, 0.076266, 0.064079, 0.076266, 0.061266, 0.064496, 0.057100, 0.052621, 0.043141, 0.047829, 0.034079, 0.034600, 0.045225, 0.047725
#*# 	  0.061058, 0.057204, 0.047308, 0.046266, 0.050433, 0.054391, 0.061787, 0.071058, 0.074079, 0.074704, 0.068975, 0.082621, 0.082621, 0.079496, 0.081371, 0.075225, 0.071996, 0.073662, 0.064808, 0.058975, 0.054496, 0.056787, 0.054912, 0.060641, 0.063350
#*# 	  0.082100, 0.081996, 0.075329, 0.081162, 0.060850, 0.076475, 0.071058, 0.082933, 0.090121, 0.082725, 0.085016, 0.097516, 0.103454, 0.087725, 0.093766, 0.095537, 0.091683, 0.079183, 0.070954, 0.075016, 0.076162, 0.074496, 0.067100, 0.080433, 0.077621
#*# x_count = 25
#*# y_count = 25
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 28.0
#*# max_x = 317.92
#*# min_y = 30.0
#*# max_y = 319.92
