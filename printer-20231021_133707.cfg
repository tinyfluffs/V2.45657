[display_status]
[pause_resume]
[exclude_object]
[skew_correction]
[exclude_object]
[gcode_arcs]
[skew_correction]

[virtual_sdcard]
path: ~/printer_data/gcodes

[include start_stop_gcode.cfg]
;[include bed_fans.cfg]
[include klicky/klicky-probe.cfg]
;[include adxl.cfg]
[include input_shaper.cfg]

#[include macros/brushie.cfg]
[include macros/fan_tachometer.cfg]
[include macros/macros.cfg]
[include macros/test_speed.cfg]

[mcu]
serial: /dev/serial/by-id/usb-Klipper_stm32f446xx_370024001750535556323420-if00

[mcu EBB36]
canbus_uuid: 4b6fda2fe461

[thermistor 100k3950_airtemp]
temperature1: 20
resistance1: 125245
temperature2: 50
resistance2: 35900
temperature3: 80
resistance3: 12933

[z_calibration]
nozzle_xy_position: 229,355
switch_xy_offsets: 0,-32
switch_offset: 0.5
start_gcode: ATTACH_PROBE
end_gcode: DOCK_PROBE

[printer]
kinematics: corexy
max_velocity: 500
max_accel: 10000
max_accel_to_decel: 5000
max_z_velocity: 20
max_z_accel: 350
square_corner_velocity: 9.0

[input_shaper]
shaper_freq_x: 66.8
shaper_type_x: mzv
shaper_freq_y: 41.8
shaper_type_y: mzv

[temperature_sensor EBB36]
sensor_type: temperature_mcu
sensor_mcu: EBB36
min_temp: 0
max_temp: 100

[temperature_sensor Octopus]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 200

[temperature_sensor Chamber]
sensor_pin: PF4
sensor_type: 100k3950_airtemp
gcode_id: C
max_temp: 82

[adxl345]
cs_pin: EBB36: PB12
spi_software_sclk_pin: EBB36: PB10
spi_software_mosi_pin: EBB36: PB11
spi_software_miso_pin: EBB36: PB2
axes_map: x,y,z

[resonance_tester]
accel_chip: adxl345
probe_points:
    174,175,20

[extruder]
step_pin: EBB36: PD0
dir_pin: !EBB36: PD1
enable_pin: !EBB36: PD2
microsteps: 16
gear_ratio: 50:10
rotation_distance: 22.8338962
nozzle_diameter: 0.4
filament_diameter: 1.75
heater_pin: EBB36: PB13
sensor_pin: EBB36: PA3
sensor_type: ATC Semitec 104GT-2
min_temp: 0
max_temp: 290
max_extrude_only_distance: 4000
max_extrude_cross_section: 5.0
pressure_advance_smooth_time: 0.04

[tmc2209 extruder]
uart_pin: EBB36: PA15
interpolate: false
run_current: 0.65
sense_resistor: 0.110
stealthchop_threshold: 0

[heater_fan hotend_fan]
pin: EBB36: PA0
tachometer_pin: ^EBB36: PB9
tachometer_ppr: 2
tachometer_poll_interval: 0.00095
heater: extruder
heater_temp: 50.0
max_power: 1.0
kick_start_time: 0.5

[duplicate_pin_override]
pins: EBB36: PA1

[fan]
pin: EBB36: PA1
tachometer_pin: ^EBB36: PB3
tachometer_ppr: 4
tachometer_poll_interval: 0.00084
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[fan_generic PCF_0]
pin: EBB36: PA1
tachometer_pin: ^EBB36: PB4
tachometer_ppr: 4
tachometer_poll_interval: 0.00084
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[fan_generic nevermore]
pin: PD13
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[fan_generic bed_fans]
pin: PD15
kick_start_time: 0.25
cycle_time: 0.15
off_below: 0.10

[multi_pin controller_fans]
pins: PA8, PE5

[controller_fan controller_fans]
pin: multi_pin: controller_fans
kick_start_time: 0.5
heater: heater_bed
cycle_time: 0.01
fan_speed: 0.15

[probe]
pin: ^EBB36: PB6
x_offset: -3.0
y_offset: 26.0
speed: 10.0
lift_speed: 15.0
samples: 3
samples_result: average # median
sample_retract_dist: 1.5
samples_tolerance: 0.02
samples_tolerance_retries: 10
z_offset: -1.86

[heater_bed]
heater_pin: PA3
sensor_type: Generic 3950
sensor_pin: PF3
max_power: 1.0
min_temp: 0
max_temp: 125
pwm_cycle_time: 0.01
control: pid
pid_kp: 60.315
pid_ki: 2.663
pid_kd: 341.534

[led Chamber_LEDs]
white_pin: PD14
cycle_time: 0.00013333

[neopixel Toolhead_LEDs]
pin: EBB36:PD3
chain_count: 3
color_order: GRBW
initial_RED: 0.0
initial_GREEN: 0.0
initial_BLUE: 0.0
initial_WHITE: 1.0

[bed_mesh]
mesh_min: 28,30
mesh_max: 318,320
horizontal_move_z: 10
speed: 100
probe_count: 25,25
zero_reference_position: 173,175
algorithm: bicubic
fade_start: 0.26
fade_end: 5
split_delta_z: 0.01

[quad_gantry_level]
speed: 100
horizontal_move_z: 10
retries: 10
retry_tolerance: 0.0075
max_adjust: 10
gantry_corners:
   -57,-10
   410,420
points:
   45,25
   45,275
   295,275
   295,25

[idle_timeout]
timeout: 1800

[force_move]
enable_force_move: true

[stepper_x]
step_pin: PF13
dir_pin: PF12
enable_pin: !PF14
endstop_pin: ^EBB36: PB8
homing_speed: 80
second_homing_speed: 25
homing_retract_dist: 5
homing_positive_dir: true
rotation_distance: 40
microsteps: 16
full_steps_per_rotation: 400
position_min: 0
position_max: 348
position_endstop: 348

[stepper_y]
step_pin: PG0
dir_pin: PG1
enable_pin: !PF15
endstop_pin: ^PG12
homing_speed: 60
second_homing_speed: 25
homing_retract_dist: 5
homing_positive_dir: true
rotation_distance: 40
microsteps: 16
full_steps_per_rotation: 400
position_min: 0
position_max: 355
position_endstop: 355

[stepper_z]
step_pin: PF11
dir_pin: PG3
enable_pin: !PG5
endstop_pin: ^PG13
homing_speed: 15
second_homing_speed: 4
homing_retract_dist: 0.7
homing_positive_dir: false
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16
position_min: -15
position_max: 310
position_endstop: 0.890

[stepper_z1]
step_pin: PG4
dir_pin: !PC1
enable_pin: !PA0
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16

[stepper_z2]
step_pin: PF9
dir_pin: PF10
enable_pin: !PG2
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16

[stepper_z3]
step_pin: PC13
dir_pin: !PF0
enable_pin: !PF1
rotation_distance: 40
microsteps: 128
gear_ratio: 80:16

[tmc2209 stepper_x]
diag_pin: ^PG6
uart_pin: PC4
interpolate: false
run_current: 1.2
sense_resistor: 0.110
stealthchop_threshold: 0

[tmc2209 stepper_y]
diag_pin: ^PG9
uart_pin: PD11
interpolate: false
run_current: 1.2
sense_resistor: 0.110
stealthchop_threshold: 0

[tmc2209 stepper_z]
diag_pin: ^PG10
uart_pin: PC6
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

[tmc2209 stepper_z1]
diag_pin: ^PG11
uart_pin: PC7
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

[tmc2209 stepper_z2]
diag_pin: ^PG12
uart_pin: PF2
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

[tmc2209 stepper_z3]
diag_pin: ^PG13
uart_pin: PE4
interpolate: false
run_current: 0.8
sense_resistor: 0.110
stealthchop_threshold: 99999

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 21.810
#*# pid_ki = 1.298
#*# pid_kd = 91.604
#*#
#*# [bed_mesh Prusa 120C]
#*# version = 1
#*# points =
#*# 	  -0.002693, 0.006995, 0.010745, 0.010536, 0.003453, 0.025224, 0.016578, 0.013245, 0.026057, 0.029495, 0.021266, 0.041266, 0.023036, 0.010432, 0.022411, 0.018557, 0.013141, 0.021578, 0.006266, 0.009703, 0.015224, 0.009391, 0.019703, 0.035953, 0.046682
#*# 	  0.013661, 0.023453, 0.014078, 0.015120, 0.017203, 0.026682, 0.024391, 0.028453, 0.030849, 0.035328, 0.022724, 0.028349, 0.028036, 0.016995, 0.019078, 0.018661, 0.018453, 0.015224, 0.005536, 0.010849, 0.004599, 0.007411, 0.015849, 0.017099, 0.037932
#*# 	  0.008141, 0.006370, 0.002620, 0.005745, 0.007724, 0.011161, 0.019599, 0.010536, 0.014911, 0.020016, 0.016682, 0.027620, 0.015953, 0.010641, 0.011578, 0.018141, 0.018141, 0.011578, 0.009703, 0.013036, 0.011370, 0.010953, 0.013036, 0.031682, 0.033557
#*# 	  0.000849, 0.008453, 0.003661, 0.001682, 0.007932, 0.011370, 0.010016, 0.015432, 0.016995, 0.016682, 0.009911, 0.023036, 0.019286, 0.012307, 0.011682, 0.013870, 0.021266, 0.014391, -0.001859, -0.005193, 0.009286, 0.002307, 0.006474, 0.023870, 0.023349
#*# 	  -0.010297, -0.008318, -0.001443, -0.010089, -0.006339, 0.001995, 0.003036, 0.007620, 0.014286, 0.013453, 0.012203, 0.017516, 0.009807, 0.009807, 0.013766, 0.003349, 0.019495, 0.011995, 0.004911, 0.002620, -0.002380, -0.000193, 0.008349, 0.027411, 0.023974
#*# 	  -0.009255, -0.009255, -0.011339, -0.008839, -0.004672, -0.000193, -0.002693, 0.001786, 0.008974, 0.014182, 0.005432, 0.020641, 0.009182, 0.008349, 0.009911, 0.001266, 0.008661, 0.007620, 0.000224, -0.005818, -0.006443, 0.000745, -0.000401, 0.011786, 0.017307
#*# 	  -0.014255, -0.012901, -0.015505, -0.012172, -0.017172, -0.012068, -0.006339, -0.008943, 0.002620, 0.011891, -0.004672, 0.011161, 0.006786, 0.001578, 0.006266, -0.006964, 0.000745, 0.005328, -0.005609, -0.004255, -0.001547, -0.010401, 0.000016, 0.005745, 0.007099
#*# 	  -0.011547, -0.013839, -0.016755, -0.020714, -0.018943, -0.010401, 0.000641, 0.006786, 0.007099, 0.000849, 0.004911, 0.007932, 0.003974, -0.003318, 0.000016, -0.005818, -0.001026, 0.003661, -0.008943, -0.010297, -0.006755, -0.009776, -0.011130, 0.001891, 0.008661
#*# 	  -0.020818, -0.031651, -0.020297, -0.021234, -0.029776, -0.017484, -0.014255, -0.007901, -0.001859, 0.009391, -0.008839, 0.006786, -0.000609, -0.010818, -0.006651, -0.005297, 0.000224, 0.007203, -0.004880, -0.009568, -0.002589, 0.001161, -0.002901, 0.010953, 0.010328
#*# 	  -0.015193, -0.013422, -0.008109, -0.015297, -0.024359, -0.013734, -0.006964, -0.004151, -0.010505, -0.005818, -0.006755, 0.002620, -0.003005, -0.012380, -0.002589, -0.010609, -0.009984, 0.007516, -0.006755, -0.010818, -0.009464, -0.007589, -0.009255, 0.000536, 0.002932
#*# 	  -0.023422, -0.025505, -0.014880, -0.017901, -0.026547, -0.024255, -0.011234, -0.011964, -0.008109, -0.002276, -0.012484, -0.001651, -0.003318, -0.013318, -0.013318, -0.007068, 0.003245, -0.003318, -0.008943, -0.003318, -0.009880, -0.000609, -0.001547, 0.004807, 0.005849
#*# 	  -0.019880, -0.011755, -0.013943, -0.021234, -0.017901, -0.012901, -0.006651, -0.006547, -0.000818, 0.003349, -0.006443, 0.007099, 0.002307, -0.012380, -0.004880, -0.004880, -0.007068, 0.001266, -0.011755, -0.015922, -0.002901, -0.016026, -0.016026, -0.005401, -0.001339
#*# 	  -0.023943, -0.018214, -0.020609, -0.021130, -0.024255, -0.014359, -0.012172, -0.014984, -0.008422, -0.003839, -0.008214, 0.002516, 0.000016, -0.005505, 0.003349, -0.009984, -0.008318, -0.002693, -0.000401, -0.007589, -0.012484, -0.006547, -0.004984, -0.010609, -0.008318
#*# 	  -0.017172, -0.018630, -0.022693, -0.023005, -0.018839, -0.012484, -0.009568, -0.009984, -0.012484, -0.001234, -0.008630, -0.002068, 0.000641, -0.005193, -0.005714, -0.014047, -0.004568, 0.000536, -0.010297, -0.015193, -0.010401, -0.006547, -0.012172, -0.003214, -0.009672
#*# 	  -0.015922, -0.020505, -0.023943, -0.018109, -0.027172, -0.021964, -0.006859, -0.014672, -0.010714, -0.004255, -0.017172, -0.001339, -0.002693, -0.018318, -0.003839, 0.006266, 0.001682, 0.000641, -0.004880, -0.010609, -0.011964, -0.010609, -0.012380, -0.015297, -0.012693
#*# 	  -0.015714, -0.013005, -0.016859, -0.012172, -0.023005, -0.003422, 0.003870, -0.004776, -0.001755, 0.008349, -0.000401, 0.012203, 0.008974, -0.004776, 0.007828, 0.002307, 0.010432, 0.006161, -0.004047, -0.001859, -0.009568, -0.013526, -0.014880, -0.008630, -0.009464
#*# 	  -0.011130, -0.012693, -0.009984, -0.009464, -0.013630, -0.008005, -0.000505, 0.005016, 0.006266, 0.009078, 0.010016, 0.023557, 0.023245, 0.005953, 0.013766, 0.011266, 0.011786, 0.005953, -0.004672, -0.001755, 0.003661, -0.006964, -0.002172, -0.001234, 0.002099
#*# 	  -0.008839, -0.003422, -0.010193, -0.011964, -0.013005, -0.001547, 0.005120, 0.015016, 0.023557, 0.019495, 0.022307, 0.034078, 0.022620, 0.019078, 0.019911, 0.012307, 0.015432, 0.015745, 0.008141, 0.011786, 0.010120, 0.008661, 0.006370, 0.002724, -0.004464
#*# 	  -0.011339, -0.004776, 0.007516, 0.001891, -0.008839, 0.006370, 0.018453, 0.017307, 0.025016, 0.027411, 0.023453, 0.032516, 0.031578, 0.018766, 0.024495, 0.025016, 0.023870, 0.022932, 0.011891, 0.008661, 0.017203, 0.014182, 0.005745, 0.011578, 0.006161
#*# 	  0.011057, 0.010641, 0.011682, 0.003766, 0.012203, 0.014286, 0.013974, 0.024391, 0.036161, 0.035849, 0.029703, 0.045432, 0.039703, 0.032203, 0.046057, 0.034599, 0.039391, 0.037620, 0.031266, 0.019182, 0.021578, 0.017724, 0.021995, 0.022620, 0.021578
#*# 	  0.020016, 0.022516, 0.031161, 0.031161, 0.019078, 0.024807, 0.028870, 0.028766, 0.040953, 0.050224, 0.043766, 0.055953, 0.060120, 0.045953, 0.052724, 0.041995, 0.047932, 0.051266, 0.036266, 0.028453, 0.034495, 0.035641, 0.020536, 0.045536, 0.025536
#*# 	  0.042099, 0.032724, 0.044182, 0.037724, 0.030536, 0.037516, 0.049078, 0.048766, 0.057828, 0.066370, 0.059911, 0.075641, 0.070328, 0.057828, 0.067724, 0.065953, 0.069495, 0.071578, 0.054391, 0.051995, 0.052411, 0.049703, 0.037516, 0.055641, 0.053661
#*# 	  0.054391, 0.057203, 0.055224, 0.052620, 0.045953, 0.051161, 0.063870, 0.063453, 0.069911, 0.076161, 0.070120, 0.086474, 0.090432, 0.077411, 0.087620, 0.080745, 0.081057, 0.078036, 0.075016, 0.060432, 0.063661, 0.059807, 0.060120, 0.066891, 0.072516
#*# 	  0.078870, 0.071891, 0.077307, 0.065641, 0.069911, 0.071891, 0.072828, 0.083349, 0.091474, 0.095120, 0.088974, 0.103141, 0.099182, 0.096057, 0.102932, 0.096370, 0.100120, 0.097099, 0.087099, 0.085328, 0.078453, 0.080641, 0.070641, 0.085016, 0.083557
#*# 	  0.101578, 0.099182, 0.094078, 0.096682, 0.080953, 0.091161, 0.090432, 0.101370, 0.104599, 0.105224, 0.105641, 0.117620, 0.125745, 0.107828, 0.118557, 0.120120, 0.115120, 0.111891, 0.098974, 0.099391, 0.098349, 0.102411, 0.100432, 0.112203, 0.108870
#*# x_count = 25
#*# y_count = 25
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 28.0
#*# max_x = 317.92
#*# min_y = 30.0
#*# max_y = 319.92
